<div class="row" *ngIf="showTable">
  <div class="col-md-12">
    <div class="row">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-12 row font-weight-bold reportHeaderLabel" *ngIf="tableData">
            <div class="col-md-5 marginLeft0">
              <span class="col-md-6" style="font-size: 14; font-weight: bold;" >Assessment Report</span>
              <a>
                <img (click)="downloadPdf()" width="25" height="25" alt="PDF"
                    src="../../../assets/images/SVG/icon-03.svg" title="Download PDF"
                    style="cursor: pointer;">
              </a>
              <a class="marginLeft10" style="padding-right: 15px;">
                <img (click)="downloadExcel()" width="25" height="25" alt="Excel"
                    src="../../../assets/images/SVG/icon-02.svg" title="Download Excel"
                    style="cursor: pointer;">
              </a>
              
            </div>
          </div>
        </div>
      </div>

     
    
  

      <div class="collapse show" id="href_1">
        <div class="col-md-12 padding0">
          <div class="row" style="width: 98%;margin: auto;">
            <div class="col-md-12 reportHeaderLabel fontSize15" *ngIf="tableData">
              <span class="float-left marginRight40"><span style="font-weight: bold;" >Start Date & Time: </span>{{tableData[0].start_time}}</span>
              <span class="float-left marginRight40"><span style="font-weight: bold;">End Date & Time: </span>{{tableData[0].end_time}}</span>
              <span class="float-left marginRight10"><span style="font-weight: bold;" >Run Duration: </span>{{tableData[0].run_duration}}</span>
            </div>
            <p class="p-2" >
              {{ tableData[0].headerText }} 
            </p>
          </div>

          <div *ngIf="showComponent && !showTable">
            <p>Loading data...</p>
        </div>


          <div  class="row adjust wizardDiv" style="width: 97%; margin: auto;margin-bottom: 20px;">
            <!-- Existing Database Objects Table -->
            <div class="col-md-12 wizardHeader">
                <div>Database Objects</div>
            </div>
            <div class="col-md-12" style="padding: 10px;"> 
            <table id="analyticsTable" class="analyticsTable table table-hover table-sm table-bordered" style="font-size:12px;">
                <thead class="thead_custom">
                    <tr class="tr_custom_14">
                        <th>Object Type</th>
                        <th>Valid Objects</th>
                        <th>Invalid Objects</th>
                        <th>Assessed Objects</th>
                        <th>Manual Conversion Efforts</th>
                        <th>Simple Objects</th>
                        <th>Medium Objects</th>
                        <th>Difficult Objects</th>
                        <th>Complex Objects</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="5"><strong>Storage Objects</strong></td>
                    </tr>
                    <tr *ngFor="let object of this.tableData[0].analyticData['Storage Objects'];">
                        <td>{{ object.objectType }}</td>
                        <td>{{ object.validType }}</td>
                        <td>{{ object.inValidType }}</td>
                        <td>{{ object.assessedObjects }}</td>
                        <td>{{object.manualConversionEfforts}}</td>
                        <td>{{object.simpleObjects}}</td>
                        <td>{{object.mediumObjects}}</td>
                        <td>{{object.difficultObjects}}</td>
                        <td>{{object.complexObjects}}</td>

                    </tr>
        
                    <tr>
                        <td colspan="5"><strong>Code Objects</strong></td>
                    </tr>
                    <tr *ngFor="let object of tableData[0].analyticData['Code Objects'];">
                        <td>{{ object.objectType }}</td>
                        <td>{{ object.validType }}</td>
                        <td>{{ object.inValidType }}</td>
                        <td>{{ object.assessedObjects }}</td>
                        <td>{{object.manualConversionEfforts}}</td>
                        <td>{{object.simpleObjects}}</td>
                        <td>{{object.mediumObjects}}</td>
                        <td>{{object.difficultObjects}}</td>
                        <td>{{object.complexObjects}}</td>

                    </tr>
        
                    <tr>
                        <td colspan="5"><strong>Special Objects</strong></td>
                    </tr>
                    <tr *ngFor="let object of tableData[0].analyticData['Special Objects'];">
                        <td>{{ object.objectType }}</td>
                        <td>{{ object.validType }}</td>
                        <td>{{ object.inValidType }}</td>
                        <td>{{ object.assessedObjects }}</td>
                        <td>{{object.manualConversionEfforts}}</td>
                        <td>{{object.simpleObjects}}</td>
                        <td>{{object.mediumObjects}}</td>
                        <td>{{object.difficultObjects}}</td>
                        <td>{{object.complexObjects}}</td>

                    </tr>
        
                    <tr>
                        <td colspan="5"><strong>Grand Total</strong></td>
                    </tr>
                    <tr *ngFor="let object of tableData[0].analyticData['Grand Total']; ">
                        <td>{{ object.objectType }}</td>
                        <td>{{ object.validType }}</td>
                        <td>{{ object.inValidType }}</td>
                        <td>{{ object.assessedObjects }}</td>
                        <td>{{object.simpleObjects}}</td>
                        <td>{{object.mediumObjects}}</td>
                        <td>{{object.difficultObjects}}</td>
                        <td>{{object.complexObjects}}</td>
                    </tr>
                </tbody>
            </table>
            </div>
        </div>
        
        <!-- Dependencies Section -->
        <div  class="row adjust wizardDiv" style="width: 97%; margin: auto;margin-bottom: 20px;">
            <div class="col-md-12 wizardHeader">
                <div>Dependencies</div>
            </div>
            <div class="col-md-12" style="padding: 10px;"> 
            <table id="dependenciesTable" class="analyticsTable table table-hover table-sm table-bordered" style="font-size:12px;">
                <thead class="thead_custom">
                    <tr class="tr_custom_14">
                        <th>Referenced Schema</th>
                        <th>Referenced Object Type</th>
                        <th>Dependent Object Count</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let dependency of tableData[0]['Dependencies']; let i = index" [ngClass]="{'odd-row': i % 2 !== 0}">
                        <td>{{ dependency.referencedSchema }}</td>
                        <td>{{ dependency.referencedObjectType }}</td>
                        <td>{{ dependency.dependentObjectCount }}</td>
                    </tr>
                </tbody>
            </table>
            </div>
        </div>
         
      </div>
    </div>
  </div>
</div>
